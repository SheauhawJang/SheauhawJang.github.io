<html>
    <head>
	    <meta charset="utf-8">
		<link rel="SHORTCUT ICON" href="../image/head.ico"/>
		<title>QSanguosha Lua Package</title>
		<link rel="stylesheet" href="../light/styles/agate.css">
		<script src="../light/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<style type="text/css">
			            a:link 
            {
                text-decoration: none;
            }

            a:visited 
            {
                text-decoration: none;
            }

            a:hover 
            {
                text-decoration: none;
            }

            .power 
            {
                font-family: Consolas;
                font-size: 12px;
                color: #000000;
                text-align: left
            }
            .maker 
            {
                font-family: Consolas;
                font-size: 12px;
                color: #000000;
                text-align: right
            }
			.title 
            {
                font-family: "华文楷体";
                font-size: 32px;
                color: #00FFB3;
                text-decoration: none;
                text-align: center;
                margin: inherit;
            }
            .subgeneral 
            {
                font-size: 64px;
                font-family: "方正隶变简体";
                color: #F16E89;
                text-align: center;
                line-height: inherit;
            }
			.end
			{
				font-size: 14px;
				text-align: center;
			}
			.smalltitle
			{
				font-size: 40px;
				font-family: "黑体";
				color: #7070D0;
				margin: 0
			}
			.Wsmalltitle
			{
				font-size: 40px;
				font-family: "黑体";
				color: #44ffFF;
				margin: 0
			}
			.intro
			{
				font-size: 22px;
				margin: 0;
			}
			.link
			{
				font-size: 20px;
				color: #007FFF;
				margin: 0
			}
			.whitelink
			{
				font-size: 20px;
				color: #00FFFF;
				margin: 0
			}
			.language{margin: 0}
			.elan
			{
				font-family: "Times New Roman";
				margin: 0;
			}
			.sintro
			{
				font-size: 20px;
				color: #000000;
				margin: 0;
				text-align: center;
			}
			.lua
			{
				font-family: Consolas;
				font-size: 12px;
			}
		</style>
	</head>
    <body background="../image/QSBg.jpg">
        <table border="0" width=1280 align="center">
            <tr>
                <td>
                    <table border="0" width=1280 align="center">
                        <tr>
                            <td width="640"><p class=power>Powered By Adobe Dreamweaver CC 2017 &amp; Notepad++ &amp; Microsoft Visual Studio 2017</p></td>
                            <td width="640"><p class=maker>Made By Michael Xiaohao Zhang</p></td>
                        </tr>
                    </table>
                    <table border="0" width="1280" align="center">
                        <tr>
                            <td><p class=subgeneral>QSanguosha Lua Package</p></td>
                        </tr>
                    </table>
					<table border="0" width=1280 height=60 bgcolor=#004CFF align="center">
                        <tr>
                            <td width=210><a href="../index.html"><p class="title">首页</p></a></td>
                            <td width=210><a href="hometown.html"><p class="title">我的故乡</p></a></td>
                            <td width=210><a href="family.html"><p class="title">家庭介绍</p></a></td>
                            <td width=210><a href="exp.html"><p class="title">经历与作品</p></a></td>
                            <td width=210><a href="mogic.html"><p class="title">关于膜法</p></a></td>
                            <td width=210><a href="else.html"><p class="title">其他信息</p></a></td>
                        </tr>
                    </table>
					<br>
					<table>
						<tr>
							<td valign=top><img src="../image/Qsanguosha.jpg"></td>
							<td width=50></td>
							<td>
								<p class="smalltitle">关于太阳神三国杀[QSanguosha]</p>
								<p class="intro">　　太阳神三国杀[QSanguosha]是由太阳神上及其系列团队创立的非官方三国杀免费开源游戏，它基于C++ Qt框架进行制作，创始于2010年，截止至2015年还在进行代码的维护和更新。太阳神三国杀除官方的游戏卡包可以完全免费地使用以外，还包括倚天包、翼包等多个创新的卡包。最终版本为V2-20150926，不再更新。目前最新的个人版本为光棍节神杀版。该最新版本可在太阳神三国杀吧中下载和使用。该程序支持联机和单机两种游戏方式。</p>
								<a href="https://tieba.baidu.com/f?kw=%CC%AB%D1%F4%C9%F1%C8%FD%B9%FA%C9%B1&tpl=5"><p class="link">　　●太阳神三国杀吧【需要Internet】</p></a>
								<a href="https://github.com/Mogara/QSanguosha"><p class=link>　　●QSanguosha-Github【需要Internet】</p></a>
								<a href="https://github.com/Mogara/QSanguosha-v2"><p class=link>　　●QSanguosha-V2-Github【需要Internet】</p></a>
							</td>
							<td width=50></td>
							<td valign=top><img src="../image/QSExe.jpg"><p class="sintro">●程序界面</p></td>
						</tr>
						<tr>
							<td height=50></td>
						</tr>
					</table>
					<table>
						<tr>
							<td valign=top width=1280>
								<table>
									<tr>
										<td>
											<p class=smalltitle>关于Lua语言</p>
											<p class=intro>　　Lua是一种轻量级的、快速的脚本语言，由巴西里约热内卢天主教大学的研究小组由1993年基于标准C语言开发。Lua作为脚本语言，不适合进行独立应用程序开发，但可以通过主程序提供的头文件和函数很方便地嵌入应用程序，被广泛地应用。很多游戏的部分脚本便是由Lua编写，如魔兽世界、欧陆风云等。</p>
											<p class=intro>	　　对于QSanguosha来讲，该程序为用户和程序员提供了一个端口：Lua扩展。您可以通过编写Lua脚本来创造一个专属于您的武将、卡牌，QSanguosha为您提供了简单易记方便可用的源代码，使Lua脚本的编写更加容易。当然，这是一个轻量快速的语言，故您只需要将小型的Lua脚本放在指定位置即可，QSanguosha会自动检测并运行。</p>
											<a href="https://www.lua.org/"><p class=whitelink>　　●Lua官网【需要Internet】</p></a>
											<a href="https://baike.baidu.com/item/lua/7570719"><p class=whitelink>　　●百度百科【需要Internet】</p></a>
											<a href="https://tieba.baidu.com/f?ie=utf-8&kw=%E5%A4%AA%E9%98%B3%E7%A5%9E%E4%B8%89%E5%9B%BD%E6%9D%80Lua"><p class="whitelink">　　●太阳神三国杀Lua吧【需要Internet】</p></a>
										</td>
									</tr>
								</table>
							</td>
							<td valign=top>
								<table>
									<tr>
										<td><image src="../image/hellolua.png" width=400 height=300></td>
										<td><img src="../image/lua.png" width=300 height=300></td>
									</tr>
								</table>
								<p class="sintro">●Lua</p>
							</td>
						</tr>
						<tr>
							<td height=50></td>
						</tr>
					</table>
					<table>
						<tr>
							<td valign=top align=right>
								<pre><code class="lua">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44</code></pre>
							<td align=left valign=top width=640>
								<pre><code class="lua">RemoveGeneral_Skill = sgs.CreateTriggerSkill{
　　name = "RemoveGeneral_Skill",
　　events = {sgs.MarkChanged, sgs.TurnStart},
　　global = true,
　　frequency = sgs.Skill_Compulsory, 
　　on_trigger = function(self, event, player, data)
　　　　if event == sgs.MarkChanged then
　　　　　　local mark = data:toMark()
　　　　　　if mark.name == "@RemoveGeneral" then
　　　　　　　　local skills = player:getVisibleSkillList()
　　　　　　　　local room = player:getRoom()
　　　　　　　　if player:getMark("@RemoveGeneral")>0 then
　　　　　　　　　　for _, skill in sgs.qlist(skills) do
　　　　　　　　　　　　room:addPlayerMark(player, "Qingcheng"..skill:objectName())
　　　　　　　　　　end
　　　　　　　　else
　　　　　　　　　　for _, skill in sgs.qlist(skills) do
　　　　　　　　　　　　room:removePlayerMark(player, "Qingcheng"..skill:objectName())
　　　　　　　　　　end
　　　　　　　　end
　　　　　　end
　　　　elseif event == sgs.TurnStart then　　
　　　　　　local room = player:getRoom()
　　　　　　if player:getMark("@RemoveGeneral")>0 then
　　　　　　　　room:setPlayerMark(player, "@RemoveGeneral", 0)
　　　　　　　　local msg = sgs.LogMessage()
　　　　　　　　msg.type = "#RemoveGeneralBack"
　　　　　　　　msg.from = player
　　　　　　　　room:sendLog(msg)
　　　　　　　　return true
　　　　　　end
　　　　end
　　end,
　　can_trigger = function(self, target)
　　　　return target ~= nil
　　end,
　　priority = 12
}
local RemoveGeneral_SkillList=sgs.SkillList()
if not sgs.Sanguosha:getSkill("RemoveGeneral_Skill") then 
　　RemoveGeneral_SkillList:append(RemoveGeneral_Skill) 
end
sgs.Sanguosha:addSkills(RemoveGeneral_SkillList)

</code></pre>
							</td>
							<td width=50></td>
							<td width=560 valign=top>
								<p class=Wsmalltitle>我的Lua作品</p>
								<p class=intro>　　本人在最近完成（或正在更新）了不少（其实实际上只有2个项目）Lua扩展包。</p><br>
								<p class=intro>　　●Goddess.lua: 女神包. 该扩展包的最初目的是将民间的女神将加入太阳神三国杀中。亲测在最新版本的太阳神三国杀中能够正常流畅地运行。最近更新于2017年11月2日。由于第二个项目的原因，该项目可能会暂时性延更。目前该扩展包包括女神将、民间武将、民间卡牌以及网友的意见。备注：密码isfb. 文件中的goddesscard.lua为历史遗留产物，删除即可。</p>
								<a href="https://tieba.baidu.com/p/5248326082"><p class=link>　　●●女神包-太阳神三国杀吧【需要Internet】</p></a>
								<a href="https://pan.baidu.com/s/1jHO5FX8"><p class=link>　　●●女神包下载-百度网盘【需要Internet】</p></a><br>
								<!-- <p class=intro>　　●Snb.lua: 少年班包. 该扩展包的目的是将我班同学三国杀化留作纪念。最近更新于2017年12月17日。目前已完成不足7%。由于作者心情等各种原因，该项目可能会无限期延更或放弃。在完成36%即一期工程之前，不会提供任何的下载链接和介绍、任何形式的内容放送。当然，如果作者想放弃，会将这7%公之于众的。</p><br> -->
								<p class=intro>　　●左部代码：民间的武将牌移出游戏系统。该部分代码仅适用于v2-20170211及以后的版本【更早的版本不支持MarkChanged这一时机】。该部分代码可见于Godress.lua中。
							</td>
						</tr>
						<tr>
							<td height=50></td>
						</tr>
					</table>
					<!-- <img src="../image/building.jpg"> -->
					<table width=1280 bgcolor=#f596aa height="150">
						<tr>
							<td width=180><img src="../image/usedhead.jpg" width="128" height="128" alt=""/></td>	
							<td>
					    		<p class="end">版权所有 &copy;2018 曉昊魔改 西安交通大学少年班<br>网站创立者：Small M.<br><br>天津市南开区南开四马路36号南开中学综合楼B304室<br>Tel:15628879568 QQ:1368287280</p>
					    		<p class="end">鸣谢：Github.io</p>
						    </td>
						    <td width=200 vvalign="top">
						    	<p class="language">Choose Language</p>
						    	<table>
						    		<tr>
						    			<td width="100"><a href="../en/lua.html"><img src="../image/en.jpg" width="21" height="14" alt=""/>English</a></td>
										<td width="100"><a href="../cn/lua.html"><img src="../image/cn.png" width="21" height="14" alt=""/>简体中文</a></td>
									</tr>
									<tr>
										<td width="100"><a href="../big5/lua.html"><img src="../image/big5.jpg" width="21" height="14" alt=""/>繁體中文</a></td>
										<td width="100"><img src="../image/jp.jpg" width="21" height="14" alt=""/>日本語</td>
									</tr>
									<tr>
										<td width="100"><p class="elan"><img src="../image/ru.jpg" width="21" height="14" alt=""/>Pусский</p></td>
										<td width="100"><img src="../image/de.jpg" width="21" height="14" alt=""/>Deutsch</td>
									</tr>
					    			<tr>
						    			<td width=100><img src="../image/es.jpg" width="21" height="14" alt=""/>Español</td>
						    			<td width=100><img src="../image/ae.png" width="21" height="14" alt=""/>العربية</td>
						    		</tr>
									<tr>
						    			<td width=100><img src="../image/fr.png" width="21" height="14" alt=""/>Français</td>
						    			<td width=100><img src="../image/pt.png" width="21" height="14" alt=""/>Portugues</td>
						    		</tr>
									<tr>
						    			<td width=100><p class="elan"><img src="../image/gr.jpg" width="21" height="14" alt=""/>Ελληνικά</p></td>
						    			<td width=100><img src="../image/kr.png" width="21" height="14" alt=""/>한국어</td>
						    		</tr>
						    	</table>
						    </td>
						</tr>
					</table>
                </td>
            </tr>
        </table>
    </body>
</html>