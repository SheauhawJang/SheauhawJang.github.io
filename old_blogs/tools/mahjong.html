<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="支持一般型麻将、国标麻将、立直麻将、十六张麻将、港式台湾麻将以及任意张麻将的牌理向听数计算。支持百搭牌（万能牌/癞子/混儿）。支持国标麻将算番、立直麻将算点。" />
        <title>麻将多功能计算器</title>
        <link rel="stylesheet" href="mahjong.css" />
        <link rel="icon" href="head.ico" type="image/x-icon">
        <link rel="shortcut icon" href="head.ico" type="image/x-icon">
    </head>

    <body>
<div class="language-bar">
<div class="language-bar-group">
<a onclick="updateCardSkin('jp')">雀魂牌画</a>
<a onclick="updateCardSkin('gb')">雀渣牌画</a>
<a onclick="updateCardSkin('qq')">腾讯牌画</a>
<a onclick="updateCardSkin('hk')">开台喇牌画</a>
<a onclick="updateCardSkin('tw')">神来也牌画</a>
<a onclick="updateCardSkin('op')">园研牌画</a>
</div>
<div class="language-bar-group">
<a>简体中文</a>
<a href="mahjong-tw.html">正體中文</a>
<a href="mahjong-ja.html">日本語</a>
<a href="mahjong-en.html">English</a>
</div>
</div>
<h1>麻将多功能计算器</h1>
<ul class="input-note-wrapper" style="padding-left: 1.5em; margin-left: 0">
<li>支持<span data-i18n="normal"></span>麻将、国标麻将、立直麻将、十六张麻将、港式台湾麻将以及任意张麻将的牌理向听数计算。</li>
<li>支持百搭牌（万能牌/癞子/混儿）。</li>
<li>支持国标麻将算<span data-i18n="GB_FAN_unit"></span>、立直麻将算点。</li>
</ul>
<div class="section">
<div class="title-button-container">
<label for="inputText">请输入手牌</label>
<button class="toggle-button" id="inputButton" onclick="toggleInput()" style="color: #f58c8a">打开输入面板 ▼</button>
</div>
<div class="input-area" id="textInput">
<input type="text" id="inputText" placeholder="例如：1112345678999mE" />
<div class="input-note-wrapper">
<button class="toggle-button" id="inputNoteButton" onclick="toggleNote()" style="color: #4caf50">显示输入说明 ▼</button>
<div class="input-note" id="inputNote" style="display: none">
输入栏支持以下格式，以下格式可混合使用：
<ol style="margin-top: 0">
<li>天凤格式：序数牌使用序数(阿拉伯数字)＋颜色(小写字母)表示，其中：<b>万=m</b>，<b>索/条=s</b>，<b>筒/饼=p</b>。字牌之<b>东南西北白发中</b>依次使用<b>1z2z3z4z5z6z7z</b>表示。同字母后缀的相邻牌可以只保留最右侧牌的字母后缀。</li>
<li>国标小助手格式：序数牌同「天凤格式」，字牌之<b>东南西北白发中</b>依次使用大写字母<b>ESWNPFC</b>表示。</li>
<li>英文麻将印刷格式：序数牌同「天凤格式」，字牌之<b>东南西北</b>依次使用大写字母<b>ESWN</b>表示，<strong>白=Wh</strong>，<strong>发=G</strong>，<strong>中=R</strong>。</li>
<li>汉语拼音格式：同天凤格式。惟<b>万=w</b>，<b>饼/筒=b</b>。</li>
<li>采谱记号格式：万字使用汉数字<b>一二三四五六七八九</b>表示，筒子/饼子使用带圈数字<b>①②③④⑤⑥⑦⑧⑨</b>表示，索子/条子使用全角数字<b>１２３４５６７８９</b>表示，字牌使用对应汉字表示。</li>
<li>Unicode格式：使用Unicode U+1F000 至 U+1F02B 的字符表示对应的牌。</li>
</ol>
<p>关于花牌：<b>春夏秋冬梅兰菊竹</b>依次使用<b>1h2h3h4h5h6h7h8h</b>或<b>1f2f3f4f5f6f7f8f</b>表示。部分地方麻将把花牌视作百搭牌，本计算器的花牌无此功能，如有需要请转化为专门的百搭牌。<br /></p>
关于百搭牌：
<ul style="margin-top: 0">
<li>不定向百搭牌<img src="./cards/a1j.gif" style="vertical-align: middle" />：可以视作任何一张序数牌或字牌。使用<b>1j/J</b>表示。（部分地方麻将可能称为万能牌、癞子或者混儿）</li>
<li>万字百搭牌 <img src="./cards/a2j.gif" style="vertical-align: middle" />：可以视作任何一张万字。使用<b>2j/im/iw</b>表示。</li>
<li>饼子百搭牌 <img src="./cards/a3j.gif" style="vertical-align: middle" />：可以视作任何一张筒子/饼子。使用<b>3j/ip/ib</b>表示。</li>
<li>索子百搭牌 <img src="./cards/a4j.gif" style="vertical-align: middle" />：可以视作任何一张索子/条子。使用<b>4j/is</b>表示。</li>
<li>数牌百搭牌 <img src="./cards/a5j.gif" style="vertical-align: middle" />：可以视作任何一张序数牌。使用<b>5j</b>表示。</li>
<li>风牌百搭牌 <img src="./cards/a6j.gif" style="vertical-align: middle" />：可以视作<b>东南西北</b>中的任何一张。使用<b>6j</b>表示。</li>
<li>三元百搭牌 <img src="./cards/a7j.gif" style="vertical-align: middle" />：可以视作<b>白发中</b>中的任何一张。使用<b>7j</b>表示。</li>
<li>字牌百搭牌 <img src="./cards/a8j.gif" style="vertical-align: middle" />：可以视作任何一张字牌。使用<b>8j/iz</b>表示。</li>
<li>花牌百搭牌 <img src="./cards/a9j.gif" style="vertical-align: middle" />：可以视作任何一张花牌。使用<b>9j/H/X/9h/9f/ih/if</b>表示。</li>
</ul>
关于副露：
<ul style="margin-top: 0">
<li>在一些牌的左右使用半角中括号<b>[]</b>包围表示一组固定面子。</li>
<li>在顺子的手牌后方补充一个半角数字并用半角逗号隔开，对应位置的牌将会被标记为「吃」获得的牌，在最左侧显示并横置。</li>
<li>在刻子的手牌后方补充一个半角数字并用半角逗号隔开，对应位置的牌将会被标记为「碰」获得的牌并横置。</li>
<li>四张手牌的固定面子默认为暗杠。</li>
<li>大明杠需要在四张手牌后方补充一个1~4之间的半角数字并用半角逗号隔开，对应位置的牌将会被标记为「杠」获得的牌并横置。</li>
<li>加杠（小明杠）需要在四张手牌后方补充一个5~8之间的半角数字并用半角逗号隔开，对应位置的牌将会被标记为「碰」获得的牌并横置。</li>
</ul>
<p>关于补花/拔北：在一些牌的左右使用半角小括号<b>()</b>包围表示这些牌是补花或者拔北后的牌。<br /></p>
<p>关于<span data-i18n="JP_YAKUNAME_96"></span>：在一些牌的左右使用半角尖括号<b><></b>包围表示这些牌是<span data-i18n="JP_YAKUNAME_96"></span>指示牌。括号内如果有半角逗号，则逗号左侧的牌是<span data-i18n="JP_YAKUNAME_96_EX"></span>指示牌，逗号右侧的牌是<span data-i18n="JP_YAKUNAME_97"></span>指示牌。<br /></p>
</div>
</div>
</div>
<div class="input-area" id="boardInput" style="display: none">
<div class="card-container" id="input-pic"></div>
<div class="input-keyboard">
<div class="input-mainkey">
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1m.gif" onclick="addInput(0)" /></div>
<div class="card-div input-card-button"><img src="./cards/2m.gif" onclick="addInput(1)" /></div>
<div class="card-div input-card-button"><img src="./cards/3m.gif" onclick="addInput(2)" /></div>
<div class="card-div input-card-button"><img src="./cards/4m.gif" onclick="addInput(3)" /></div>
<div class="card-div input-card-button"><img src="./cards/5m.gif" onclick="addInput(4)" /></div>
<div class="card-div input-card-button"><img src="./cards/6m.gif" onclick="addInput(5)" /></div>
<div class="card-div input-card-button"><img src="./cards/7m.gif" onclick="addInput(6)" /></div>
<div class="card-div input-card-button"><img src="./cards/8m.gif" onclick="addInput(7)" /></div>
<div class="card-div input-card-button"><img src="./cards/9m.gif" onclick="addInput(8)" /></div>
<div class="card-div input-card-button"><img src="./cards/0m.gif" onclick="addInput({ id: 4, sp: 1 })" /></div>
<div></div>
</div>
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1p.gif" onclick="addInput(9)" /></div>
<div class="card-div input-card-button"><img src="./cards/2p.gif" onclick="addInput(10)" /></div>
<div class="card-div input-card-button"><img src="./cards/3p.gif" onclick="addInput(11)" /></div>
<div class="card-div input-card-button"><img src="./cards/4p.gif" onclick="addInput(12)" /></div>
<div class="card-div input-card-button"><img src="./cards/5p.gif" onclick="addInput(13)" /></div>
<div class="card-div input-card-button"><img src="./cards/6p.gif" onclick="addInput(14)" /></div>
<div class="card-div input-card-button"><img src="./cards/7p.gif" onclick="addInput(15)" /></div>
<div class="card-div input-card-button"><img src="./cards/8p.gif" onclick="addInput(16)" /></div>
<div class="card-div input-card-button"><img src="./cards/9p.gif" onclick="addInput(17)" /></div>
<div class="card-div input-card-button"><img src="./cards/0p.gif" onclick="addInput({ id: 13, sp: 1 })" /></div>
<div></div>
</div>
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1s.gif" onclick="addInput(18)" /></div>
<div class="card-div input-card-button"><img src="./cards/2s.gif" onclick="addInput(19)" /></div>
<div class="card-div input-card-button"><img src="./cards/3s.gif" onclick="addInput(20)" /></div>
<div class="card-div input-card-button"><img src="./cards/4s.gif" onclick="addInput(21)" /></div>
<div class="card-div input-card-button"><img src="./cards/5s.gif" onclick="addInput(22)" /></div>
<div class="card-div input-card-button"><img src="./cards/6s.gif" onclick="addInput(23)" /></div>
<div class="card-div input-card-button"><img src="./cards/7s.gif" onclick="addInput(24)" /></div>
<div class="card-div input-card-button"><img src="./cards/8s.gif" onclick="addInput(25)" /></div>
<div class="card-div input-card-button"><img src="./cards/9s.gif" onclick="addInput(26)" /></div>
<div class="card-div input-card-button"><img src="./cards/0s.gif" onclick="addInput({ id: 22, sp: 1 })" /></div>
<div></div>
</div>
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1z.gif" onclick="addInput(27)" /></div>
<div class="card-div input-card-button"><img src="./cards/2z.gif" onclick="addInput(28)" /></div>
<div class="card-div input-card-button"><img src="./cards/3z.gif" onclick="addInput(29)" /></div>
<div class="card-div input-card-button"><img src="./cards/4z.gif" onclick="addInput(30)" /></div>
<div class="card-div input-card-button"><img src="./cards/5z.gif" onclick="addInput(31)" /></div>
<div class="card-div input-card-button"><img src="./cards/6z.gif" onclick="addInput(32)" /></div>
<div class="card-div input-card-button"><img src="./cards/7z.gif" onclick="addInput(33)" /></div>
<div class="card-div input-card-button"><img src="./cards/0z.gif" onclick="addInput({ id: 31, sp: 1 })" /></div>
<div></div>
</div>
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1h.gif" onclick="addInput(34)" /></div>
<div class="card-div input-card-button"><img src="./cards/2h.gif" onclick="addInput(35)" /></div>
<div class="card-div input-card-button"><img src="./cards/3h.gif" onclick="addInput(36)" /></div>
<div class="card-div input-card-button"><img src="./cards/4h.gif" onclick="addInput(37)" /></div>
<div class="card-div input-card-button"><img src="./cards/5h.gif" onclick="addInput(38)" /></div>
<div class="card-div input-card-button"><img src="./cards/6h.gif" onclick="addInput(39)" /></div>
<div class="card-div input-card-button"><img src="./cards/7h.gif" onclick="addInput(40)" /></div>
<div class="card-div input-card-button"><img src="./cards/8h.gif" onclick="addInput(41)" /></div>
<div></div>
</div>
<div class="input-row">
<div></div>
<div class="card-div input-card-button"><img src="./cards/1j.gif" onclick="addInput(42)" /></div>
<div class="card-div input-card-button"><img src="./cards/2j.gif" onclick="addInput(43)" /></div>
<div class="card-div input-card-button"><img src="./cards/3j.gif" onclick="addInput(44)" /></div>
<div class="card-div input-card-button"><img src="./cards/4j.gif" onclick="addInput(45)" /></div>
<div class="card-div input-card-button"><img src="./cards/5j.gif" onclick="addInput(46)" /></div>
<div class="card-div input-card-button"><img src="./cards/6j.gif" onclick="addInput(47)" /></div>
<div class="card-div input-card-button"><img src="./cards/7j.gif" onclick="addInput(48)" /></div>
<div class="card-div input-card-button"><img src="./cards/8j.gif" onclick="addInput(49)" /></div>
<div class="card-div input-card-button"><img src="./cards/9j.gif" onclick="addInput(50)" /></div>
<div></div>
</div>
<div class="card-container" id="input-pic-bonus"></div>
<div class="output-grid-div">
<span><span data-i18n="JP_YAKUNAME_96"></span>指示牌</span>
<div class="card-container" id="input-pic-dorap"></div>
<span><span data-i18n="JP_YAKUNAME_97"></span>指示牌</span>
<div class="card-container" id="input-pic-urap"></div>
</div>
</div>
<div class="input-subkeys">
<button onclick="clearInput()" class="subkey-button">清空</button>
<button onclick="sortInput()" class="subkey-button">理牌</button>
<button onclick="removeInput(ipids[0].length - 1, -1)" class="subkey-button enable-no-empty">退格</button>
<button onclick="subtileInput(0)" class="subkey-button" id="subkey_chi">吃</button>
<button onclick="subtileInput(1)" class="subkey-button enabled-no-flower">碰</button>
<button onclick="subtileInput(2, 1)" class="subkey-button enabled-no-flower">明杠</button>
<button onclick="subtileInput(2, 5)" class="subkey-button enabled-no-flower">加杠</button>
<button onclick="subtileInput(2, 0)" class="subkey-button enabled-no-flower">暗杠</button>
<button onclick="subtileInput(3)" class="subkey-button enable-no-empty">补花</button>
<button onclick="subtileInput(4)" class="subkey-button enable-no-empty"><span data-i18n="JP_YAKUNAME_96"></span>指示</button>
<button onclick="subtileInput(5)" class="subkey-button enable-no-empty"><span data-i18n="JP_YAKUNAME_97"></span>指示</button>
</div>
</div>
</div>
<div style="text-align: center">
<button onclick="processInput()" class="random-button">计算</button>
<button onclick="randomInput()" class="random-button"><input type="number" id="randomCardCount" value="14" min="1" max="99" /> 张随机配牌</button>
<button onclick="randomWinning()" class="random-button"><input type="number" id="randomWinningCardCount" value="14" min="1" max="99" /> 张和牌示例</button>
</div>
<div class="output-box-head">
<div class="output-context" style="text-align: center" id="output-cnt"></div>
<div class="card-container" id="output-pic"></div>
<div class="card-container" id="output-pic-bonus" style="text-align: right"></div>
</div>
<div class="output-box">
<div class="tabs">
<button class="tab" data-steptabid="0", onclick="switchStepTab(0)"><span data-i18n="normal"></span>牌理</button>
<button class="tab" data-steptabid="1", onclick="switchStepTab(1)">国标麻将标准型牌理</button>
<button class="tab" data-steptabid="2", onclick="switchStepTab(2)">立直麻将标准型牌理</button>
<button class="tab" data-steptabid="3", onclick="switchStepTab(3)">港式台湾麻将牌理</button>
</div>
<div id="steps-global-viewer"></div>
</div>
<div class="output-box" id="steps-std" style="display: none;">
<div class="title-button-container">
<div class="output-title"><div><span data-i18n="normal"></span>牌理</div></div>
<button class="toggle-button" id="toggle-output-std" onclick="toggleOutput(0)">折叠 ▲</button>
</div>
<div class="output-context" id="output-std"></div>
<div class="output-context" id="brief-output-std" style="display: none"></div>
<div class="output-time" id="time-output-std"></div>
</div>
<div class="output-box" id="steps-gb" style="display: none;">
<div class="title-button-container">
<div class="output-title">国标麻将标准型牌理</div>
<button class="toggle-button" id="toggle-output-gb" onclick="toggleOutput(1)">折叠 ▲</button>
</div>
<div class="output-option-group">
<label><input type="checkbox" name="step-gb-types" value="0" onchange="restartInput(2)" checked /><span data-i18n="normal"></span></label>
<label><input type="checkbox" name="step-gb-types" value="1" onchange="restartInput(2)" checked /><span data-i18n="pair7"></span></label>
<label><input type="checkbox" name="step-gb-types" value="2" onchange="restartInput(2)" checked /><span data-i18n="orphan13"></span></label>
<label><input type="checkbox" name="step-gb-types" value="3" onchange="restartInput(2)" checked /><span data-i18n="quanbukaoxing"></span></label>
<label><input type="checkbox" name="step-gb-types" value="4" onchange="restartInput(2)" checked /><span data-i18n="zuhelongxing"></span></label>
</div>
<div class="output-context" id="output-gb"></div>
<div class="output-context" id="brief-output-gb" style="display: none"></div>
<div class="output-time" id="time-output-gb"></div>
</div>
<div class="output-box" id="steps-jp" style="display: none;">
<div class="title-button-container">
<div class="output-title">立直麻将标准型牌理<button id="mySwitch" class="switch on" aria-pressed="true" onclick="toggleSwitch(event, '四人', '三人', switchJP34)"><span class="label-text">四人</span><span class="thumb"></span></button></div>
<button class="toggle-button" id="toggle-output-jp" onclick="toggleOutput(2); toggleOutput(7);">折叠 ▲</button>
<button class="toggle-button" id="toggle-output-jp3p" style="display: none">折叠 ▲</button>
</div>
<div class="output-option-group">
<label><input type="checkbox" name="step-jp-types" value="0" onchange="restartInput(1); restartInput(4)" checked /><span data-i18n="normal"></span></label>
<label><input type="checkbox" name="step-jp-types" value="1" onchange="restartInput(1); restartInput(4)" checked /><span data-i18n="pair7"></span></label>
<label><input type="checkbox" name="step-jp-types" value="2" onchange="restartInput(1); restartInput(4)" checked /><span data-i18n="kokushi"></span></label>
</div>
<div id="output-group-jp">
<div class="output-context" id="output-jp"></div>
<div class="output-context" id="brief-output-jp" style="display: none"></div>
<div class="output-time" id="time-output-jp"></div>
</div>
<div id="output-group-jp3p" style="display: none">
<div class="output-context" id="output-jp3p"></div>
<div class="output-context" id="brief-output-jp3p" style="display: none"></div>
<div class="output-time" id="time-output-jp3p"></div>
</div>
</div>
<div class="output-box" id="steps-tw" style="display: none;">
<div class="title-button-container">
<div class="output-title">港式台湾麻将牌理</div>
<button class="toggle-button" id="toggle-output-tw" onclick="toggleOutput(3)">折叠 ▲</button>
</div>
<div class="output-option-group">
<label><input type="checkbox" name="step-tw-types" value="0" onchange="restartInput(3)" checked /><span data-i18n="normal"></span></label>
<label><input type="checkbox" name="step-tw-types" value="1" onchange="restartInput(3)" checked /><span data-i18n="niconico"></span></label>
<label><input type="checkbox" name="step-tw-types" value="2" onchange="restartInput(3)" checked /><span data-i18n="orphan13"></span></label>
<label><input type="checkbox" name="step-tw-types" value="3" onchange="restartInput(3)" checked /><span data-i18n="shiliubudaxing"></span></label>
</div>
<div class="output-context" id="output-tw"></div>
<div class="output-context" id="brief-output-tw" style="display: none"></div>
<div class="output-time" id="time-output-tw"></div>
</div>
<div class="output-box" id="score-global">
<div class="tabs">
<button class="tab" data-scoretabid="0", onclick="switchScoreTab(0)">国标麻将<span data-i18n="GB_FAN_unit"></span>数计算器</button>
<button class="tab" data-scoretabid="1", onclick="switchScoreTab(1)">立直麻将点数计算器</button>
</div>
<div id="score-global-viewer"></div>
</div>
<div style="display: none;">
<div class="output-box" id="score-gb">
<div class="title-button-container">
<div class="output-title"><div>国标麻将<span data-i18n="GB_FAN_unit"></span>数计算器</div></div>
<button class="toggle-button" id="toggle-output-score-gb" onclick="toggleOutput(4)">折叠 ▲</button>
</div>
<div id="options-output-score-gb">
<div class="output-grid-div">
<span>圈风</span>
<div class="output-option-group">
<label><input type="radio" name="score-gb-global-wind" value="27" checked />东</label>
<label><input type="radio" name="score-gb-global-wind" value="28" />南</label>
<label><input type="radio" name="score-gb-global-wind" value="29" />西</label>
<label><input type="radio" name="score-gb-global-wind" value="30" />北</label>
</div>
<span>门风</span>
<div class="output-option-group">
<label><input type="radio" name="score-gb-local-wind" value="27" checked />东</label>
<label><input type="radio" name="score-gb-local-wind" value="28" />南</label>
<label><input type="radio" name="score-gb-local-wind" value="29" />西</label>
<label><input type="radio" name="score-gb-local-wind" value="30" />北</label>
</div>
<span>和牌方式</span>
<div class="output-option-group">
<label><input type="radio" name="score-gb-wintype" value="0" checked />点和</label>
<label><input type="radio" name="score-gb-wintype" value="80" />自摸</label>
</div>
<span>和牌状态</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-wininfo" value="44" />最后一张</label>
<label><input type="checkbox" name="score-gb-wininfo" value="46"><span data-i18n="GB_FANNAME_46"></span></label>
<label><input type="checkbox" name="score-gb-wininfo" value="47"><span data-i18n="GB_FANNAME_47"></span></label>
<label><input type="checkbox" name="score-gb-wininfo" value="58"><span data-i18n="GB_FANNAME_58"></span></label>
</div>
<button onclick="processGBScore()" class="score-button">计算</button>
</div>
<details>
<summary>规则设置</summary>
<div class="output-options">
<span title="国标原文的不求人定义限定一般型。问答规则、MIL规则、JMSA规则不允许不求人复合下述所有番种。世麻规则允许不求人复合下述所有番种。疑难解析建议允许不求人复合下述所有番种。"><span data-i18n="GB_FANNAME_56"></span>复合</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-setting" value="19" /><span data-i18n="GB_FANNAME_4"></span>/<span data-i18n="GB_FANNAME_12"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="41" /><span data-i18n="GB_FANNAME_19"></span>/<span data-i18n="GB_FANNAME_6"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="42" /><span data-i18n="GB_FANNAME_7"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="43" /><span data-i18n="GB_FANNAME_34"></span>/<span data-i18n="GB_FANNAME_20"></span></label>
</div>
<span title="国标原文的下述番种定义限定一般型，但包含了七对复合字一色、清幺九的牌例。疑难解析允许七对复合清一色、混一色、五门齐。问答规则建议允许，MIL规则允许七对复合清一色至混幺九。世麻规则允许七对复合清一色至五门齐。JMSA规则允许七对复合清一色至推不倒、字一色至混幺九。"><span data-i18n="GB_FANNAME_19"></span>复合</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-setting" value="5" checked /><span data-i18n="GB_FANNAME_22"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="10" checked /><span data-i18n="GB_FANNAME_49"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="1" checked /><span data-i18n="GB_FANNAME_3"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="6" checked /><span data-i18n="GB_FANNAME_25"></span>/<span data-i18n="GB_FANNAME_26"></span>/<span data-i18n="GB_FANNAME_27"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="7" checked /><span data-i18n="GB_FANNAME_36"></span>/<span data-i18n="GB_FANNAME_37"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="9" checked /><span data-i18n="GB_FANNAME_40"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="11" checked /><span data-i18n="GB_FANNAME_51"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="3" checked /><span data-i18n="GB_FANNAME_11"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="2" checked /><span data-i18n="GB_FANNAME_8"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="4" checked /><span data-i18n="GB_FANNAME_18"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="40" checked /><span data-i18n="GB_FANNAME_55"></span></label>
<label title="由于张数限制，不可能出现。"><input type="checkbox" name="score-gb-setting" value="8" checked /><span data-i18n="GB_FANNAME_31"></span></label>
<label title="现行规则均不允许。"><input type="checkbox" name="score-gb-setting" value="12" /><span data-i18n="GB_FANNAME_21"></span></label>
</div>
<span data-i18n="GB_FANNAME_53"></span>
<div class="output-option-group">
<label title="国标原文、问答规则、MIL规则、JMSA规则采用。"><input type="radio" name="score-gb-setting-1" value="0" checked />6 <span data-i18n="GB_FAN_unit"></span></label>
<label title="世麻规则采用。"><input type="radio" name="score-gb-setting-1" value="23" />8 <span data-i18n="GB_FAN_unit"></span></label>
</div>
<span data-i18n="GB_FANNAME_82"></span>
<div class="output-option-group">
<label title="MIL规则、JMSA规则采用。"><input type="radio" name="score-gb-setting-2" value="0" checked />5 <span data-i18n="GB_FAN_unit"></span></label>
<label title="世麻规则采用。"><input type="radio" name="score-gb-setting-2" value="24,1" />6 <span data-i18n="GB_FAN_unit"></span></label>
<label title="1999年全国麻将运动比赛补充规定（参见疑难解析）。"><input type="radio" name="score-gb-setting-2" value="24,2" /><span data-i18n="GB_FANNAME_74"></span>+<span data-i18n="GB_FANNAME_67"></span></label>
<label title="问答规则采用。"><input type="radio" name="score-gb-setting-2" value="24,3" /><span data-i18n="GB_FANNAME_57"></span>+<span data-i18n="GB_FANNAME_67"></span></label>
</div>
<span><span data-i18n="GB_FANNAME_17"></span><span data-i18n="GB_FANNAME_5"></span></span>
<div class="output-option-group">
<label title="MIL规则、JMSA规则采用。"><input type="radio" name="score-gb-setting-6" value="0" checked />加计暗刻不计暗杠</label>
<label title="世麻规则采用。"><input type="radio" name="score-gb-setting-6" value="30,1" />加计暗刻和暗杠</label>
<label title="问答规则采用。"><input type="radio" name="score-gb-setting-6" value="30,2" />请输入文本</label>
</div>
<span data-i18n="GB_FANNAME_46"></span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-setting" value="31,1" />不计<span data-i18n="GB_FANNAME_74"></span></label>
<label title="疑难解析采用。"><input type="checkbox" name="score-gb-setting" value="31,2" />不计<span data-i18n="GB_FANNAME_74"></span>且<span data-i18n="GB_FANNAME_67"></span>减 1 <span data-i18n="GB_FAN_unit"></span></label>
<label title="问答规则、MIL规则、JMSA规则采用。"><input type="checkbox" name="score-gb-setting" value="32" checked />可复合<span data-i18n="GB_FANNAME_44"></span></label>
</div>
<span>不计<span data-i18n="GB_FANNAME_73"></span></span>
<div class="output-option-group">
<label title="疑难解析采用。"><input type="checkbox" name="score-gb-setting" value="33" /><span data-i18n="GB_FANNAME_60"></span>/<span data-i18n="GB_FANNAME_61"></span>/<span data-i18n="GB_FANNAME_59"></span>减 1 <span data-i18n="GB_FAN_unit"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="34" /><span data-i18n="GB_FANNAME_38"></span>加计<span data-i18n="GB_FANNAME_73"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="35" /><span data-i18n="GB_FANNAME_9"></span>加计<span data-i18n="GB_FANNAME_73"></span></label>
</div>
<span data-i18n="GB_FANNAME_4"></span>
<div class="output-option-group">
<label title="MIL规则采用。"><input type="radio" name="score-gb-setting-5" value="0" checked />不计一个<span data-i18n="GB_FANNAME_73"></span></label>
<label><input type="radio" name="score-gb-setting-5" value="27" />不计所有<span data-i18n="GB_FANNAME_73"></span></label>
</div>
<span title="国标原文、问答规则、世麻规则、MIL规则允许缺一门复合大三元至一色四节高。"><span data-i18n="GB_FANNAME_75"></span>复合</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-setting" value="13" checked /><span data-i18n="GB_FANNAME_2"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="14" checked /><span data-i18n="GB_FANNAME_10"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="15" checked /><span data-i18n="GB_FANNAME_38"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="16" checked /><span data-i18n="GB_FANNAME_14"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="44" checked /><span data-i18n="GB_FANNAME_16"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="17" checked /><span data-i18n="GB_FANNAME_15"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="18" /><span data-i18n="GB_FANNAME_40"></span></label>
</div>
<span title="国标原文、问答规则、MIL规则允许混一色复合大四喜、小四喜；不允许混一色复合绿一色。世麻规则允许混一色复合下述所有番种。"><span data-i18n="GB_FANNAME_49"></span>复合</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-gb-setting" value="20" checked /><span data-i18n="GB_FANNAME_1"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="21" checked /><span data-i18n="GB_FANNAME_9"></span></label>
<label><input type="checkbox" name="score-gb-setting" value="22" /><span data-i18n="GB_FANNAME_3"></span></label>
</div>
<span><span data-i18n="GB_FANNAME_8"></span>复合</span>
<div class="output-option-group">
<label title="世麻规则采用。问答规则、MIL规则不采用。"><input type="checkbox" name="score-gb-setting" value="28" /><span data-i18n="GB_FANNAME_65"></span></label>
<label title="国标原文为“不计同刻”，若非笔误则不采用。"><input type="checkbox" name="score-gb-setting" value="29" checked /><span data-i18n="GB_FANNAME_32"></span></label>
</div>
<span><span data-i18n="GB_FANNAME_35"></span>和牌</span>
<div class="output-option-group">
<label><input type="radio" name="score-gb-setting-3" value="25" />和牌张可解释为<span data-i18n="GB_FANNAME_35"></span>部分时不计<span data-i18n="GB_FANNAME_77"></span>/<span data-i18n="GB_FANNAME_78"></span>/<span data-i18n="GB_FANNAME_79"></span></label>
<label title="MIL规则采用。"><input type="radio" name="score-gb-setting-3" value="0" checked />和牌张可解释为顺子或雀头部分时可计<span data-i18n="GB_FANNAME_77"></span>/<span data-i18n="GB_FANNAME_78"></span>/<span data-i18n="GB_FANNAME_79"></span></label>
</div>
<span>多面听和牌</span>
<div class="output-option-group">
<label title="问答规则、世麻规则、MIL规则采用。疑难解析建议采用。"><input type="radio" name="score-gb-setting-4" value="0" checked />不计<span data-i18n="GB_FANNAME_77"></span>/<span data-i18n="GB_FANNAME_78"></span>/<span data-i18n="GB_FANNAME_79"></span></label>
<label><input type="radio" name="score-gb-setting-4" value="26" />可计<span data-i18n="GB_FANNAME_77"></span>/<span data-i18n="GB_FANNAME_78"></span>/<span data-i18n="GB_FANNAME_79"></span></label>
</div>
<span>加杠<span data-i18n="GB_FANNAME_52"></span></span>
<div class="output-option-group">
<label><input type="radio" name="score-gb-setting-7" value="0" checked />开启</label>
<label><input type="radio" name="score-gb-setting-7" value="36" />关闭</label>
</div>
<span>授受制</span>
<div class="output-option-group">
<label><input type="number" id="score-gb-setting-fan" value="8" min="0" /><span data-i18n="GB_FAN_unit"></span>起和</label>
<label><input type="number" id="score-gb-setting-blind" value="8" min="0" /><span data-i18n="GB_FAN_unit"></span>底分</label>
<label title="JMSA规则采用 88 番封顶。"><input type="checkbox" name="score-gb-setting" value="38" /><input type="number" id="score-gb-setting-maxfan" value="88" min="0" /><span data-i18n="GB_FAN_unit"></span>封顶</label>
<label><input type="checkbox" name="score-gb-setting" value="39" />自摸分三</label>
</div>
<span>快速设置</span>
<div class="output-option-group">
<button onclick="processGBSetting(0)">MIL规则</button>
<button onclick="processGBSetting(1)">世麻规则</button>
<button onclick="processGBSetting(2)">JMSA规则</button>
</div>
</div>
</details>
</div>
<div class="output-context" id="output-score-gb"></div>
<div class="output-context" id="brief-output-score-gb" style="display: none"></div>
<div class="output-time" id="time-output-score-gb">Ready to start!</div>
</div>
<div class="output-box" id="score-jp">
<div class="title-button-container">
<div class="output-title">立直麻将点数计算器</div>
<button class="toggle-button" id="toggle-output-score-jp" onclick="toggleOutput(5)">折叠 ▲</button>
</div>
<div id="options-output-score-jp">
<div class="output-grid-div">
<span>场风</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-global-wind" value="27" checked />东</label>
<label><input type="radio" name="score-jp-global-wind" value="28" />南</label>
<label><input type="radio" name="score-jp-global-wind" value="29" />西</label>
<label><input type="radio" name="score-jp-global-wind" value="30" />北</label>
</div>
<span>自风</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-local-wind" value="27" checked />东</label>
<label><input type="radio" name="score-jp-local-wind" value="28" />南</label>
<label><input type="radio" name="score-jp-local-wind" value="29" />西</label>
<label><input type="radio" name="score-jp-local-wind" value="30" />北</label>
</div>
<span>和牌方式</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-wintype" value="0" checked />荣和</label>
<label><input type="radio" name="score-jp-wintype" value="1" />自摸</label>
</div>
<span>立直状态</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-jp-wininfo" value="1"><span data-i18n="JP_YAKUNAME_1"></span></label>
<label><input type="checkbox" name="score-jp-wininfo" value="16"><span data-i18n="JP_YAKUNAME_16"></span></label>
<label><input type="checkbox" name="score-jp-wininfo" value="3"><span data-i18n="JP_YAKUNAME_3"></span></label>
</div>
<span>和牌状态</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-jp-wininfo" value="32" />第一巡目</label>
<label><input type="checkbox" name="score-jp-wininfo" value="13" />最后一张</label>
<label><input type="checkbox" name="score-jp-wininfo" value="12"><span data-i18n="JP_YAKUNAME_12"></span></label>
<label><input type="checkbox" name="score-jp-wininfo" value="15"><span data-i18n="JP_YAKUNAME_15"></span></label>
<label id="jp-tsubame-gaeshi" style="display: none;"><input type="checkbox" name="score-jp-wininfo" value="60" /><span data-i18n="JP_YAKUNAME_60"></span></label>
<label id="jp-kan-buri" style="display: none;"><input type="checkbox" name="score-jp-wininfo" value="61" /><span data-i18n="JP_YAKUNAME_61"></span></label>
</div>
<button onclick="processJPScore()" class="score-button">计算</button>
</div>
<details>
<summary>规则设置</summary>
<div class="output-options">
<span data-i18n="yakuman"></span>
<div class="output-option-group">
<label id="debug-yakuman" style="display: none;"><input type="checkbox" name="score-jp-setting" value="46" checked /><span data-i18n="yakuman"></span>役</label>
<label title="XJTU规则采用。新报知规则、最高位战规则、联盟规则、协会规则、RMU规则、全段审规则、M.League、XJTU七星杯、EMA规则不采用。"><input type="checkbox" name="score-jp-setting" value="1" checked /><span data-i18n="times_2"></span><span data-i18n="yakuman"></span></label>
<label title="最高位战规则、联盟规则、协会规则、RMU规则、全段审规则、M.League、XJTU规则采用。新报知规则、XJTU七星杯、EMA规则不采用。"><input type="checkbox" name="score-jp-setting" value="2" checked />复合<span data-i18n="yakuman"></span></label>
<label title="新报知规则、最高位战规则、协会规则、RMU规则、全段审规则、M.League、EMA规则不采用。"><input type="checkbox" name="score-jp-setting" value="3" checked /><span data-i18n="counted_yakuman"></span></label>
</div>
<span>连风牌雀头</span>
<div class="output-option-group">
<label title="雀魂、天凤、XJTU规则、EMA规则采用。"><input type="radio" name="score-jp-setting-1" value="0" checked />4 <span data-i18n="JP_FU_unit"></span></label>
<label title="新报知规则、最高位战规则、联盟规则、协会规则、RMU规则、全段审规则、M.League采用。"><input type="radio" name="score-jp-setting-1" value="5" />2 <span data-i18n="JP_FU_unit"></span></label>
</div>
<span data-i18n="kiri_mangan"></span>
<div class="output-option-group">
<label title="最高位战规则、联盟WRC规则、协会规则、RMU规则、M.League采用。最高位战Classic规则、联盟官方规则不采用。"><input type="radio" name="score-jp-setting-3" value="7" />开启</label>
<label><input type="radio" name="score-jp-setting-3" value="0" checked />关闭</label>
</div>
<span>食断</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-0" value="4" checked />开启</label>
<label><input type="radio" name="score-jp-setting-0" value="0" />关闭</label>
</div>
<span><span data-i18n="JP_FUNAME_11"></span><span data-i18n="JP_YAKUNAME_10"></span></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-2" value="6" checked /><span data-i18n="JP_YAKUNAME_10"></span>役</label>
<label><input type="radio" name="score-jp-setting-2" value="0" /><span data-i18n="JP_FUNAME_11"></span><span data-i18n="JP_FU_unit"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_12"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-10" value="0" checked />有<span data-i18n="JP_FUNAME_11"></span><span data-i18n="JP_FU_unit"></span></label>
<label><input type="radio" name="score-jp-setting-10" value="16" />无<span data-i18n="JP_FUNAME_11"></span><span data-i18n="JP_FU_unit"></span></label>
</div>
<span><span data-i18n="JP_FAN_unit"></span>缚</span>
<div class="output-option-group">
<label><input type="number" id="score-jp-setting-fan" value="1" min="0" /><span data-i18n="JP_FAN_unit"></span>缚</label>
<label><input type="checkbox" name="score-jp-setting" value="11" /><span data-i18n="yakuman"></span>缚</label>
<label><input type="checkbox" name="score-jp-setting" value="12" />包含<span data-i18n="JP_YAKUNAME_96_EX"></span></label>
<label title="雀魂番缚模式采用。"><input type="checkbox" name="score-jp-setting" value="13" checked />包含<span data-i18n="JP_YAKUNAME_3"></span></label>
</div>
<span title="「荣和」和「第一巡目」同时选择时算作人和。由于人和的定义有差异，是否符合「第一巡目」请自行根据规则判断。" data-i18n="JP_YAKUNAME_30"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-5" value="0" />关闭</label>
<label title="全段审规则采用。"><input type="radio" name="score-jp-setting-5" value="9,3" />4 <span data-i18n="JP_FAN_unit"></span></label>
<label title="联盟规则、XJTU规则、EMA规则采用。"><input type="radio" name="score-jp-setting-5" value="9,1" checked />5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-5" value="9,4" />6 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-5" value="9,5" />8 <span data-i18n="JP_FAN_unit"></span></label>
<label title="雀魂古役模式采用。"><input type="radio" name="score-jp-setting-5" value="9,2" /><span data-i18n="yakuman"></span></label>
<label title="联盟规则、EMA规则采用。"><input type="checkbox" name="score-jp-setting" value="39" />不与通常役复合</label>
</div>
<span data-i18n="JP_YAKUNAME_40"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-6" value="0" /><span data-i18n="JP_YAKUNAME_39"></span></label>
<label title="XJTU规则、雀魂古役模式采用。"><input type="radio" name="score-jp-setting-6" value="10" checked /><span data-i18n="times_2"></span><span data-i18n="yakuman"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_49"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-12" value="18,1" /><span data-i18n="JP_YAKUNAME_4"></span><span data-i18n="JP_YAKUNAME_31"></span></label>
<label><input type="radio" name="score-jp-setting-12" value="0" checked /><span data-i18n="JP_YAKUNAME_44"></span></label>
<label><input type="radio" name="score-jp-setting-12" value="18,2" /><span data-i18n="times_2"></span><span data-i18n="yakuman"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_17"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-4" value="0" checked />2 <span data-i18n="JP_FAN_unit"></span> 25 <span data-i18n="JP_FU_unit"></span></label>
<label><input type="radio" name="score-jp-setting-4" value="8,1" />1 <span data-i18n="JP_FAN_unit"></span> 50 <span data-i18n="JP_FU_unit"></span></label>
<label><input type="radio" name="score-jp-setting-4" value="8,2" />0 <span data-i18n="JP_FAN_unit"></span> 100 <span data-i18n="JP_FU_unit"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_29"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-20" value="47,2" /><span data-i18n="JP_YAKUNAME_11"></span> ×2</label>
<label><input type="radio" name="score-jp-setting-20" value="47,1" />2 <span data-i18n="JP_FAN_unit"></span>门前</label>
<label><input type="radio" name="score-jp-setting-20" value="0" checked />3 <span data-i18n="JP_FAN_unit"></span>门前</label>
<label><input type="radio" name="score-jp-setting-20" value="47,3" />4 <span data-i18n="JP_FAN_unit"></span>门前</label>
</div>
<span data-i18n="JP_YAKUNAME_50"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-13" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-13" value="19" />2 <span data-i18n="JP_FAN_unit"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_51"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-14" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-14" value="20" /><span data-i18n="yakuman"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_48"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-11" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-11" value="17,2" />1 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-11" value="17" />2 <span data-i18n="JP_FAN_unit"></span>食下</label>
</div>
<span data-i18n="JP_YAKUNAME_52"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-15" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-15" value="21,1" />2 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-15" value="21,2" />2 <span data-i18n="JP_FAN_unit"></span>食下</label>
<label><input type="radio" name="score-jp-setting-15" value="21,3" />3 <span data-i18n="JP_FAN_unit"></span>食下</label>
<label><input type="radio" name="score-jp-setting-15" value="21,4" />2 <span data-i18n="JP_FAN_unit"></span>门前</label>
<label><input type="radio" name="score-jp-setting-15" value="21,5" />3 <span data-i18n="JP_FAN_unit"></span>门前</label>
</div>
<span data-i18n="JP_YAKUNAME_53"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-16" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-16" value="22,3" />4 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-16" value="22,4" />5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-16" value="22,5" />6 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-16" value="22,6" />6 <span data-i18n="JP_FAN_unit"></span>食下</label>
<label><input type="radio" name="score-jp-setting-16" value="22,1" /><span data-i18n="yakuman"></span></label>
<label><input type="radio" name="score-jp-setting-16" value="22,2" /><span data-i18n="yakuman"></span>门前</label>
<!--<label><input type="checkbox" name="score-jp-setting" value="23" checked />使用役名四连太宝</label>-->
</div>
<span data-i18n="JP_YAKUNAME_67"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-17" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-17" value="40,1" />1 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-17" value="40,2" />2 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-17" value="40,3" />2 <span data-i18n="JP_FAN_unit"></span>食下</label>
<label><input type="radio" name="score-jp-setting-17" value="40,4" />2 <span data-i18n="JP_FAN_unit"></span>门前</label>
<label><input type="radio" name="score-jp-setting-17" value="40,5" />5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="radio" name="score-jp-setting-17" value="40,6" /><span data-i18n="yakuman"></span></label>
<label><input type="radio" name="score-jp-setting-17" value="40,7" /><span data-i18n="yakuman"></span>门前</label>
<label><input type="checkbox" name="score-jp-setting" value="41" /><span data-i18n="JP_YAKUNAME_17"></span>禁止</label>
<label><input type="checkbox" name="score-jp-setting" value="42" />必须<span data-i18n="JP_YAKUNAME_18"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="43" />必须自风牌雀头</label>
</div>
<span><span data-i18n="JP_YAKUNAME_54"></span>系列</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-jp-setting" value="26" /><span data-i18n="JP_YAKUNAME_54"></span><span data-i18n="yakuman"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="27" /><span data-i18n="JP_YAKUNAME_55"></span><span data-i18n="yakuman"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="28" /><span data-i18n="JP_YAKUNAME_56"></span><span data-i18n="yakuman"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="29" /><span data-i18n="JP_YAKUNAME_57"></span><span data-i18n="yakuman"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="30" /><span data-i18n="JP_YAKUNAME_58"></span><span data-i18n="yakuman"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="31" /><span data-i18n="JP_YAKUNAME_59"></span><span data-i18n="yakuman"></span></label>
</div>
<span data-i18n="JP_YAKUNAME_68"></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-18" value="0" checked />关闭</label>
<label><input type="radio" name="score-jp-setting-18" value="44" />1 <span data-i18n="JP_FAN_unit"></span></label>
</div>
<span>古役偶然役</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-jp-setting" value="32" onchange="SwitchOption(this, 'jp-tsubame-gaeshi')"/><span data-i18n="JP_YAKUNAME_60"></span> 1 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="33" onchange="SwitchOption(this, 'jp-kan-buri')"/><span data-i18n="JP_YAKUNAME_61"></span> 1 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="34" /><span data-i18n="JP_YAKUNAME_62"></span> 5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="35" /><span data-i18n="JP_YAKUNAME_63"></span> 5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="36" /><span data-i18n="JP_YAKUNAME_64"></span> 5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="37" /><span data-i18n="JP_YAKUNAME_65"></span> 5 <span data-i18n="JP_FAN_unit"></span></label>
<label><input type="checkbox" name="score-jp-setting" value="38" /><span data-i18n="JP_YAKUNAME_66"></span><span data-i18n="yakuman"></span></label>
</div>
<span>跳<span data-i18n="JP_FU_unit"></span></span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-8" value="14" checked />开启</label>
<label><input type="radio" name="score-jp-setting-8" value="0" />关闭</label>
</div>
<span>基本点</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-19" value="45,1" />十位四舍六入</label>
<label><input type="radio" name="score-jp-setting-19" value="45,2" />百位上取整</label>
<label><input type="radio" name="score-jp-setting-19" value="0" checked />不修改</label>
</div>
<span>支付点数</span>
<div class="output-option-group">
<label><input type="radio" name="score-jp-setting-9" value="15" checked />百位上取整</label>
<label><input type="radio" name="score-jp-setting-9" value="0" />不修改</label>
</div>
<span>副露<span data-i18n="JP_YAKUNAME_10"></span>型</span>
<div class="output-option-group">
<label><input type="checkbox" name="score-jp-setting" value="24" /><span data-i18n="JP_YAKUNAME_10"></span>役</label>
<label><input type="checkbox" name="score-jp-setting" value="25" />允许 20 <span data-i18n="JP_FU_unit"></span></label>
</div>
<span>快速设置</span>
<div class="output-option-group">
<button onclick="processJPSetting(0)">XJTU规则</button>
<button onclick="processJPSetting(1)">XJTU七星杯</button>
<button onclick="processJPSetting(12)">新报知规则</button>
<button onclick="processJPSetting(4)">最高位战规则</button>
<button onclick="processJPSetting(5)">最高位战Classic规则</button>
<button onclick="processJPSetting(2)">联盟官方规则</button>
<button onclick="processJPSetting(3)">联盟WRC规则</button>
<button onclick="processJPSetting(13)">μ规则</button>
<button onclick="processJPSetting(6)">协会规则</button>
<button onclick="processJPSetting(14)">RMU规则</button>
<button onclick="processJPSetting(15)">全段审规则</button>
<button onclick="processJPSetting(7)">M.League</button>
<button onclick="processJPSetting(8)">EMA规则</button>
<button onclick="processJPSetting(9)">雀魂</button>
<button onclick="processJPSetting(10)">雀魂古役模式</button>
<button onclick="processJPSetting(11)">天凤</button>
</div>
</div>
</details>
<div class="output-grid-div">
<span><span data-i18n="JP_YAKUNAME_96"></span>指示牌</span>
<div class="card-container" id="output-pic-doras" style="text-align: left"></div>
<span><span data-i18n="JP_YAKUNAME_97"></span>指示牌</span>
<div class="card-container" id="output-pic-uras" style="text-align: left"></div>
</div>
</div>
<div class="output-context" id="output-score-jp"></div>
<div class="output-context" id="brief-output-score-jp" style="display: none"></div>
<div class="output-time" id="time-output-score-jp">Ready to start!</div>
</div>
</div>
<div class="reference-box mobile-display-only" id="title-box"></div>
<div class="reference-box">
相关规则：
<ul style="margin-top: 0">
<li><a href="./rules/GB98.pdf">中国麻将竞赛规则（国标原文）</a></li>
<li><a href="./rules/GB98-EC.pdf">中国麻将竞赛规则疑难解析（疑难解析）</a></li>
<li><a href="./rules/GB98-FAQ.pdf">《中国麻将竞赛规则（试行）》问答（问答规则）</a></li>
<li><a href="./rules/WMO-MCR.pdf">世界麻将组织麻将竞赛规则（世麻规则）</a></li>
<li><a href="./rules/MIL-MCR.pdf">国际麻将联盟国标麻将规则补充细则（MIL规则）</a></li>
<li><a href="./rules/Achieve/JMSA-MCR.html">日本麻将体育协会规则和<span data-i18n="GB_FAN_unit"></span>种一览（JMSA规则）</a><a class="small-a" href="https://www.jmsa.jp/www/rule1.html" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<li><a href="./rules/Shinhouchi.pdf">平成版麻将新报知规则（新报知规则）</a></li>
<li><a href="./rules/Achieve/Saikouisen.html">最高位战日本职业麻将协会竞技规定和Classic规则（最高位战规则）</a><a class="small-a" href="https://saikouisen.com/about/rules/" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<li><a href="./rules/JPML-Riichi.pdf">日本职业麻将联盟官方规则和WRC规则（联盟规则）</a></li>
<li><a href="./rules/Mu-Riichi.pdf">麻将联合官方规则（μ规则）</a></li>
<li><a href="./rules/Achieve/ClubJPM.html">日本职业麻将协会竞技规定（协会规则）</a><a class="small-a" href="https://npm2001.com/about/regulations/" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<li><a href="./rules/Achieve/RMU.html">RMU规则</a> <a class="small-a" href="https://rmu.jp/rule" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<li><a href="./rules/Zendanshin.pdf">全国麻将段位审查会竞技规定（全段审规则）</a></li>
<!--No Summary-->   <li><a href="./rules/Achieve/GakuJanren.html">学生麻将联盟竞技规定（学雀联规则）</a><a class="small-a" href="https://gakusei-majan.com/rule/" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<!--No Summary-->   <li><a href="./rules/Kenko-Mahjong.pdf">日本健康麻将协会健康麻将规则（健康规则）</a></li>
<li><a href="./rules/Achieve/MLeague.html">M.League正式比赛规则（M.League）</a><a class="small-a" href="https://m-league.jp/about/" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<!--No Summary-->   <li><a href="./rules/Achieve/Saikyosen.html">麻将最强战规则（最强战）</a><a class="small-a" href="https://mahjong-saikyosen.com/?page_id=365" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<!--No Summary-->   <li><a href="./rules/Achieve/NihonMajan-Riichi.html">日本麻将联盟立直麻将规则（日雀联立直规则）</a><a class="small-a" href="https://www.nihon-majan.org/ritimajyan.html" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<li><a href="./rules/XJTU-Riichi.pdf">西安交通大学立直麻将比赛规则（XJTU规则）和西安交通大学七星杯立直麻将公开赛规则（XJTU七星杯）</a></li>
<li><a href="./rules/EMA-Riichi.pdf">欧洲麻将联盟立直麻将规则（EMA规则）</a></li>
<!--No Summary-->   <li><a href="./rules/WRC.pdf">世界立直麻将锦标赛规则（WRC规则）</a></li>
<!--No Summary-->   <li><a href="./rules/Shingendai.pdf">1975年制定新《周刊现代规则》（新现代规则）</a></li>
<!--No Summary-->   <li><a href="./rules/Achieve/NihonMajan-22.html">日本麻将联盟二十二麻将规则（日雀联规则）</a><a class="small-a" href="https://www.nihon-majan.org/arusiarumajyanruru.html" target="_blank" rel="noopener noreferrer">原始内容</a></li>
<!--No Summary-->   <li><a href="./rules/101.pdf">日本麻将101竞技联盟101竞技规定（101规则）</a></li>
</ul>
</div>
</div>
<div class="section title-button-container">
<div class="output-time">v4.8.0</div>
<div class="output-time">功能建议/Bug反馈/友好交流QQ群 1021644248</div>
</div>
        <script src="mahjong.js"></script>
        <script src="mahjong-document.js"></script>
        <script src="mahjong-worker-lang.js"></script>
        <script>
            function tilesInfo(tcnt) {
                const meld = Math.floor(tcnt / 3);
                let output = `${tcnt} 张手牌\n`;
                switch (tcnt % 3) {
                    case 1:
                        output += `3n+1 型: 和牌需要 ${meld} 个面子和 ${1} 个雀头`;
                        break;
                    case 2:
                        output += `3n+2 型: 和牌需要 ${meld} 个面子和 ${1} 个雀头`;
                        break;
                    case 0:
                        output += `3n 型: 和牌需要 ${meld} 个面子和 ${0} 个雀头`;
                        break;
                }
                return output;
            }
            function toggleInput() {
                const board = document.getElementById("boardInput");
                const button = document.getElementById("inputButton");
                const text = document.getElementById("textInput");
                const isVisible = board.style.display !== "none";
                board.style.display = isVisible ? "none" : "block";
                text.style.display = isVisible ? "block" : "none";
                button.textContent = isVisible ? "打开输入面板 ▼" : "关闭输入面板 ▲";
                if (!isVisible) drawInputCards();
                if (!isVisible) adjustButtonsFontSize();
            }
            function toggleNote() {
                const note = document.getElementById("inputNote");
                const button = document.getElementById("inputNoteButton");
                const isVisible = note.style.display !== "none";
                note.style.display = isVisible ? "none" : "block";
                button.textContent = isVisible ? "显示输入说明 ▼" : "隐藏输入说明 ▲";
            }
            window.onload = function () {
                loadStorage();
                addReferenceMark();
                replacei18n();
                loadInput();
            };
            const lang = "cn";
            const toggleOutputLang = ["展开 ▼", "折叠 ▲"];
        </script>
    </body>
</html>
